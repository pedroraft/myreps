---
import { RepresentativeResults } from "@/components/RepresentativeResults";
import { openStatesClient, encodeJurisdiction } from "@/lib/openstates-client";

type Props = {
    state: string;
    city: string;
};

const { state, city } = Astro.props;

const { data } = await openStatesClient.GET("/people", {
    params: {
        query: {
            jurisdiction: encodeJurisdiction({ state, city }),
        },
    },
});
---

<RepresentativeResults data={data?.results} />
